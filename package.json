{
  "/*": "----------------------------------------------------------------------------",
  "..": "This package.json (JSON) is automatically generated from package/*.cson (CSON)",
  ".-": "DO NOT invoke 'npm init' or 'npm install --save' ('--save-dev' / '--save-optional')",
  "._": "as this would overwrite / update the JSON, not the master CSON!",
  "*/": "----------------------------------------------------------------------------",
  "name": "readium-js-viewer",
  "version": "0.24.0",
  "engines": {
    "node": ">=0.12",
    "npm": ">2.10"
  },
  "description": "Readium web app - online cloud reader, offline Chrome extension/app",
  "keywords": [
    "readium",
    "epub",
    "epub3"
  ],
  "author": {
    "name": "Readium (Daniel Weck)",
    "email": "daniel.weck@gmail.com",
    "url": "http://github.com/readium"
  },
  "license": "BSD-3-Clause",
  "licenses": [
    {
      "type": "BSD-3-Clause",
      "url": "http://opensource.org/licenses/BSD-3-Clause"
    }
  ],
  "homepage": "http://github.com/readium/readium-js-viewer",
  "bugs": {
    "url": "http://github.com/readium/readium-js-viewer/issues",
    "email": "daniel.weck@gmail.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/readium/readium-js-viewer.git"
  },
  "files": [
    "build-output/",
    "dev/",
    "dist/",
    "license.txt",
    "README.md"
  ],
  "dependencies": {
    "http-server": "github:danielweck/http-server#master",
    "opener": "latest",
    "parallelshell": "latest"
  },
  "devDependencies": {
    "JSON2": "latest",
    "bootstrap": "3.x",
    "bootstrap-accessibility-plugin": "github:paypal/bootstrap-accessibility-plugin#master",
    "chai": "latest",
    "chai-as-promised": "latest",
    "clean-css": "3.4.25",
    "crx": "latest",
    "decompress-zip": "latest",
    "gift": "latest",
    "github": "latest",
    "grunt-selenium-webdriver": "latest",
    "hammerjs": "latest",
    "hogan": "latest",
    "hogan.js": "latest",
    "httpreq": "latest",
    "jath": "github:danielweck/jath#master",
    "jquery-hammerjs": "latest",
    "keymaster": "github:danielweck/keymaster#master",
    "mathjax-single-file": "github:danielweck/MathJax-single-file#master",
    "mocha": "latest",
    "phantomjs-prebuilt": "latest",
    "remotestoragejs": "latest",
    "requirejs-hogan-plugin": "latest",
    "screenfull": "latest",
    "spin.js": "2.x",
    "uglify-js": "latest",
    "wd": "latest",
    "xml2js": "latest"
  },
  "scripts": {
    "cson2json": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/concat.js \"package/*.cson\" package.cson && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cson/bin/cson2json package.cson > package.json && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js package.cson && node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/optimizePackageJsonScripts.js",
    "prepare:all": "npm run prepare:submodule && npm run prepare:local",
    "prepare:local": "(npm outdated || echo outdated) && npm install && npm update && node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/gitHubForksUpdater.js",
    "prepare:submodule": "cd readium-js && npm run prepare:all && cd .. && ls",
    "clean": "node --version && npm --version && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js api-docs/* && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist",
    "apidocs": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/yuidocjs/lib/cli.js -N -C -c yuidocs.json",
    "prebuild": "npm run clean",
    "build": "npm run build:scripts",
    "lint": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/jshint_glob.js \"src/js/**.js\"",
    "preversioning": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js build-output",
    "versioning": "node build-config/versioning.js build-output/version.json",
    "genPluginsConfig": "cd readium-js/readium-shared-js/ && node readium-cfi-js/readium-build-tools/pluginsConfigMaker.js && cd ../..",
    "prebuild:scripts": "npm run genPluginsConfig",
    "build:scripts": "npm run versioning && npm run build:scripts:multiple && npm run build:scripts:single && npm run build:scripts:single:LITE && npm run build:scripts:single:CHROMEAPP --readium-js-viewer:RJS_UGLY=no && npm run build:scripts:single:CHROMEAPPWORKER --readium-js-viewer:RJS_UGLY=no",
    "build:scripts:lite": "npm run versioning && npm run build:scripts:single:LITE",
    "build:scripts:single": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/requirejs/bin/r.js -o ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/RequireJS_config.js --rjs_bundle=single",
    "build:scripts:single:LITE": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/requirejs/bin/r.js -o ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/RequireJS_config.js --rjs_bundle=single --rjs_configCustomTarget=_LITE",
    "build:scripts:single:CHROMEAPP": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/requirejs/bin/r.js -o ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/RequireJS_config.js --rjs_bundle=single --rjs_configCustomTarget=_CHROMEAPP",
    "build:scripts:single:CHROMEAPPWORKER": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/requirejs/bin/r.js -o ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/RequireJS_config.js --rjs_bundle=single --rjs_configOverrideTarget=_CHROMEAPP-WORKER",
    "prebuild:scripts:multiple": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js build-output/XXX && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/templates/ build-output/XXX/templates/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/i18n/ build-output/XXX/i18n/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/version.json build-output/XXX/",
    "build:scripts:multiple": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/requirejs/bin/r.js -o ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/RequireJS_config.js --rjs_bundle=multiple",
    "postbuild:scripts:multiple": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/XXX && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/version.json && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/templates && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/i18n && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/migration && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/storage && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/versioning && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/workers && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_multiple-bundles/z-worker.js build-output/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_multiple-bundles/deflate.js build-output/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_multiple-bundles/inflate.js build-output/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/z-worker.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/deflate.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/inflate.js && ( node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_multiple-bundles/z-worker.js.map build-output/ && ( node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_multiple-bundles/deflate.js.map build-output/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_multiple-bundles/inflate.js.map build-output/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/z-worker.js.map && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/deflate.js.map && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/inflate.js.map ) || echo \"=== SUCCESS [ignore previous error]: no sourcemaps were generated for zip web-worker, deflate, inflate (no uglification).\" ) && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/RequireJS.js.src.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/inflate.js.src.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/deflate.js.src.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js build-output/_multiple-bundles/z-worker.js.src.js",
    "dist:cssoptimize": "node node_modules/clean-css/bin/cleancss --skip-rebase --skip-advanced --skip-aggressive-merging --skip-media-merging --skip-restructuring --skip-shorthand-compacting \"node_modules/bootstrap/dist/css/bootstrap.css\" \"node_modules/bootstrap-accessibility-plugin/plugins/css/bootstrap-accessibility.css\" \"src/css/sourcesanspro.css\" \"src/css/readium_js.css\" \"src/css/viewer.css\" \"src/css/viewer_audio.css\" \"src/css/settings.css\"",
    "predist": "npm run build && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist",
    "dist": "npm run dist:copy && npm run dist:cloudReader && npm run dist:server:build && npm run dist:zip && cp .env-dist dist/cloud-reader/.env && cd dist/cloud-reader && npm install --production && cd - ",
    "dist:lite": "rm -r dist/* && npm run build:scripts:lite && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist && npm run dist:copy && npm run dist:cloudReaderLite && cd dist/cloud-reader-lite && npm run dist:lite:all-to-html",
    "dist:lite:all-to-html": "sed -n '/SCRIPT_CONTENT/!p;//q' dist/cloud-reader-lite/index.html > temp-index.html && cat dist/cloud-reader-lite/scripts/readium-js-viewer_all_LITE.js >> temp-index.html && echo '\n' >> temp-index.html && sed -e '1,/SCRIPT_CONTENT/ d' dist/cloud-reader-lite/index.html >> temp-index.html && mv temp-index.html dist/cloud-reader-lite/index.html && npm run dist:lite:copy-to-apps",
    "dist:lite:copy-to-apps": "cp dist/cloud-reader-lite/index.html ../toad-reader-apps/standard-assets/reader.html && cp dist/cloud-reader-lite/index.html ../toad-reader-apps/assets/reader.html",
    "deploy": "TIMESTAMP=$(date +%s) && echo \"\\nWill build and deploy to S3: $TIMESTAMP\\n\" && cd dist && cp -r cloud-reader-lite $TIMESTAMP && cd $TIMESTAMP && zip reader.zip -r * && cd ../.. && echo \"\nDeploying to S3 ($TIMESTAMP)...\n\" && aws s3 cp dist/$TIMESTAMP s3://cdn.toadreader.com/cloud-reader-lite/$TIMESTAMP/ --recursive --acl public-read",
    "dist:server:build": "cp \"readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/biblemesh_app.js\" \"dist/cloud-reader/app.js\" && cp -r \"readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/routes\" \"dist/cloud-reader/\" && cp -r \"readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/templates\" \"dist/cloud-reader/\" && cp -r \"readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/.ebextensions\" \"dist/cloud-reader/\" && timestamp=`date +%s` && sed -i .bak \"s/VERSION_BUST_STRING/$timestamp/g\" dist/cloud-reader/scripts/readium-js-viewer_all.js && rm dist/cloud-reader/scripts/readium-js-viewer_all.js.bak && cp \"readium-js/readium-shared-js/readium-cfi-js/package.json\" \"dist/cloud-reader/\" && chmod 777 dist/cloud-reader && cp \"src/js/widget_setup.js\" \"dist/cloud-reader/scripts/\"",
    "dist:zip": "cd dist/cloud-reader && zip ../cloud-reader-app.zip -r * .[^.]* &&  cd -",
    "dist+sourcemap": "npm run dist && npm run deploy:cloudReader:copy:sourcemap && npm run deploy:cloudReaderLite:copy:sourcemap && npm run deploy:chromeApp:copy:sourcemap",
    "dist:copy": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/zip_sourcemap && ( node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/z-worker.js.map dist/zip_sourcemap && ( node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/deflate.js.map dist/zip_sourcemap && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/inflate.js.map dist/zip_sourcemap ) || ( echo \"=== SUCCESS [ignore previous error]: no sourcemaps were generated for zip web-worker, deflate, inflate (no uglification).\" && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/zip_sourcemap ) )",
    "chromeApp": "npm run clean && npm run versioning && npm run genPluginsConfig && npm run build:scripts:single:CHROMEAPP --readium-js-viewer:RJS_UGLY=no && npm run build:scripts:single:CHROMEAPPWORKER --readium-js-viewer:RJS_UGLY=no && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader/css && npm run dist:cssoptimize -- \"src/css/library.css\" \"-o\" \"dist/cloud-reader/css/readium-all.css\" && npm run dist:chromeApp && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/cloud-reader && npm run deploy:chromeApp:copy:sourcemap && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/chrome-app_sourcemap",
    "predist:chromeApp": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/chrome-app && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/chrome-app_sourcemap",
    "dist:chromeApp": "npm run dist:chromeApp:copy && node build-config/updateChromeManifest.js && npm run dist:chromeApp:css && npm run dist:chromeApp:js",
    "dist:chromeApp:copy": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/chrome-app/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/chrome-app/scripts/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/chrome-app/index.html dist/chrome-app/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js readium-js/node_modules/zip-js/WebContent/z-worker.js dist/chrome-app/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js readium-js/node_modules/zip-js/WebContent/deflate.js dist/chrome-app/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js readium-js/node_modules/zip-js/WebContent/inflate.js dist/chrome-app/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/images/ dist/chrome-app/images/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js node_modules/mathjax-single-file/dist/MMLSVG/MathJax.js dist/chrome-app/scripts/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp node_modules/bootstrap/fonts/ dist/chrome-app/fonts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/css/annotations.css dist/chrome-app/css/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/chrome-app/epubReadingSystem.js dist/chrome-app/scripts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/chrome-app/background.js dist/chrome-app/scripts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/chrome-app/icons/ dist/chrome-app/icons/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/i18n/_locales/ dist/chrome-app/_locales/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/chrome-app/manifest.json dist/chrome-app/",
    "dist:chromeApp:css": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js dist/cloud-reader/css/readium-all.css dist/chrome-app/css/",
    "dist:chromeApp:js": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/chrome-app_sourcemap && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_all_CHROMEAPP.js dist/chrome-app/scripts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_all_CHROMEAPP.js.map dist/chrome-app_sourcemap/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_CHROMEAPP-WORKER.js dist/chrome-app/scripts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_CHROMEAPP-WORKER.js.map dist/chrome-app_sourcemap/",
    "crx": "node node_modules/crx/bin/crx pack dist/chrome-app/ --output dist/Readium.crx --private-key tests/test.pem",
    "predist:cloudReader": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/cloud-reader && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/cloud-reader_sourcemap",
    "dist:cloudReader": "npm run dist:cloudReader:copy && npm run dist:cloudReader:css && npm run dist:cloudReader:js",
    "dist:cloudReader:copy": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader/scripts/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/cloud-reader/index.html dist/cloud-reader/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/z-worker.js dist/cloud-reader/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/deflate.js dist/cloud-reader/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/inflate.js dist/cloud-reader/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/images/ dist/cloud-reader/images/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js node_modules/mathjax-single-file/dist/MMLSVG/MathJax.js dist/cloud-reader/scripts/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp node_modules/bootstrap/fonts/ dist/cloud-reader/fonts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/css/annotations.css dist/cloud-reader/css/",
    "dist:cloudReader:css": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader/css && npm run dist:cssoptimize -- \"src/css/library.css\" \"-o\" \"dist/cloud-reader/css/readium-all.css\"",
    "dist:cloudReader:js": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader_sourcemap && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_all.js dist/cloud-reader/scripts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_all.js.map dist/cloud-reader_sourcemap/",
    "predist:cloudReaderLite": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/cloud-reader-lite && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/cloud-reader-lite_sourcemap",
    "dist:cloudReaderLite": "npm run dist:cloudReaderLite:copy && npm run dist:cloudReaderLite:css && npm run dist:cloudReaderLite:js",
    "dist:cloudReaderLite:copy": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader-lite/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader-lite/scripts/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/cloud-reader-lite/index.html dist/cloud-reader-lite/ && sed -i '' -- \"s/BUST_QUERY_STRING/$(date +%s)/g\" dist/cloud-reader-lite/index.html && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/z-worker.js dist/cloud-reader-lite/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/deflate.js dist/cloud-reader-lite/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/inflate.js dist/cloud-reader-lite/scripts/zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp src/images/ dist/cloud-reader-lite/images/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js node_modules/mathjax-single-file/dist/MMLSVG/MathJax.js dist/cloud-reader-lite/scripts/mathjax && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp node_modules/bootstrap/fonts/ dist/cloud-reader-lite/fonts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js src/css/annotations.css dist/cloud-reader-lite/css/",
    "dist:cloudReaderLite:css": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader-lite/css && npm run dist:cssoptimize -- \"-o\" \"dist/cloud-reader-lite/css/readium-all.css\"",
    "dist:cloudReaderLite:js": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/mkdirp/bin/cmd.js dist/cloud-reader-lite_sourcemap && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_all_LITE.js dist/cloud-reader-lite/scripts/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/cpy-cli/cli.js build-output/_single-bundle/readium-js-viewer_all_LITE.js.map dist/cloud-reader-lite_sourcemap/",
    "genOPDS": "npm run genOPDS_IDPF_tests && npm run genOPDS_DAISY_tests && npm run genOPDS_IDPF_samples && npm run genOPDS_IDPF_widgets && npm run genOPDS_IDPF_edupub",
    "genOPDS_IDPF_widgets": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components master /Samples/1-basic_component/embedded FIRST && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components master /Samples/1-basic_component/packaged APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components feature/logger-widget /Samples/readium/tempwave-demo/embedded APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components feature/logger-widget /Samples/readium/tempwave-demo/packaged APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components feature/logger-widget /Samples/readium/logger-demo/packaged APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components feature/logger-widget /Samples/readium/logger-demo/embedded APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components feature/logger-widget /Samples/readium APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components PubCoder /Samples/3-messaging_component/embedded/PubCoder APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components PubCoder /Samples/1-basic_component/embedded/PubCoder APPEND && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_widgets.opds IDPF scriptable-components PubCoder /Samples/1-basic_component/packaged/PubCoder LAST",
    "genOPDS_IDPF_edupub": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_edu.opds IDPF education master /samples FIRST && node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_edu.opds snaekobbi braille-rendition-epub samples /edupub/samples LAST",
    "genOPDS_IDPF_tests": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_testsuite.opds IDPF epub-testsuite master /content/30",
    "genOPDS_DAISY_tests": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_tests_a11y.opds daisy epub-accessibility-tests master /content",
    "genOPDS_IDPF_samples": "node ./readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/genOPDS.js epub_content/epub_samples.opds IDPF epub3-samples master /30",
    "http:watch": "echo > open_webbrowser.js && parallelshell \"npm run dowatch\" \"npm run http:app_ebooks\"",
    "http": "echo > open_webbrowser.js && parallelshell \"npm run dowatch:plugins\" \"npm run http:app_ebooks\"",
    "http:nowatch": "npm run http:app_ebooks",
    "http2:watch": "echo > open_webbrowser.js && parallelshell \"npm run dowatch\" \"npm run http:ebooks\" \"npm run http:app\"",
    "http2": "echo > open_webbrowser.js && parallelshell \"npm run dowatch:plugins\" \"npm run http:ebooks\" \"npm run http:app\"",
    "http2:nowatch": "parallelshell \"npm run http:ebooks\" \"npm run http:app\"",
    "dowatch:plugins": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/watch/cli.js \"npm run genPluginsConfig && node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/webbrowser.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js open_webbrowser.js\" readium-js/readium-shared-js/plugins/",
    "dowatch": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/watch/cli.js \"npm run build && node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/webbrowser.js && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js open_webbrowser.js\" dev/ src/ readium-js/js/ readium-js/readium-shared-js/js/ readium-js/readium-shared-js/plugins/ readium-js/readium-shared-js/readium-cfi-js/js/",
    "http:app": "node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/biblemesh_app.js -OPEN /dev/index_RequireJS_no-optimize.html -p 9090 -c-1 ./",
    "http:ebooks": "node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/biblemesh_app.js -p 8080 -c-1 --cors ./epub_content",
    "http:app_ebooks": "node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/biblemesh_app.js",
    "http:cloudReaderDist": "node readium-js/readium-shared-js/readium-cfi-js/readium-build-tools/biblemesh_app.js -p 8080 -c-1 .",
    "http:travis": "node node_modules/http-server/bin/http-server -a 127.0.0.1 -p 8080 -c-1 ./dist/cloud-reader/",
    "mocha": "node node_modules/mocha/bin/mocha --timeout 180000 --ui bdd tests/tests.js",
    "clean:tests": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/Readium.crx && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/cloud-reader/epub_content/ && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/testbooks.zip && node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/rimraf/bin.js dist/testlibrary/",
    "test": "npm run test:chromeApp && npm run test:firefox && npm run test:chrome",
    "pretest:chromeApp": "npm run crx",
    "test:chromeApp": "parallelshell \"node build-config/selenium_webdriver.js -a 127.0.0.1 -p 8080 -c-1 ./dist/chrome-app\" \"npm run mocha --readium-js-viewer:MODE=chromeApp\"",
    "pretest:chrome": "npm run deploy:cloudReader:copy:epub_content",
    "test:chrome": "parallelshell \"node build-config/selenium_webdriver.js -a 127.0.0.1 -p 8080 -c-1 ./dist/cloud-reader\" \"npm run mocha --readium-js-viewer:MODE=chrome\"",
    "pretest:firefox": "npm run deploy:cloudReader:copy:epub_content",
    "test:firefox": "parallelshell \"node build-config/selenium_webdriver.js -a 127.0.0.1 -p 8080 -c-1 ./dist/cloud-reader\" \"npm run mocha --readium-js-viewer:MODE=firefox\"",
    "test:sauce": "npm run test:sauce:chromeApp && npm run test:sauce:firefox && npm run test:sauce:chrome",
    "pretest:sauce:chromeApp": "npm run crx",
    "test:sauce:chromeApp": "npm run mocha --readium-js-viewer:USE_SAUCE=true --readium-js-viewer:MODE=chromeApp",
    "test:sauce:firefox": "npm run mocha --readium-js-viewer:USE_SAUCE=true --readium-js-viewer:MODE=firefox",
    "test:sauce:chrome": "npm run mocha --readium-js-viewer:USE_SAUCE=true --readium-js-viewer:MODE=chrome",
    "pretest:travis": "npm run dist && npm run crx && npm run deploy:cloudReader:copy:sourcemap && cd dist/cloud-reader && zip -r ../Readium_cloud-reader.zip . -x epub_content* && cd ../.. && npm run deploy:cloudReaderLite:copy:sourcemap && cd dist/cloud-reader-lite && zip -r ../Readium_cloud-reader-lite.zip . && cd ../.. && npm run deploy:cloudReader:copy:epub_content",
    "test:travis": "parallelshell \"npm run http:travis\" \"npm run mocha\"",
    "deploy:cloudReader:copy:epub_content": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp epub_content/ dist/cloud-reader/epub_content/",
    "deploy:cloudReader:copy:sourcemap": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp dist/cloud-reader_sourcemap/ dist/cloud-reader/scripts/ && ( node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp dist/zip_sourcemap/ dist/cloud-reader/scripts/zip/ || echo \"=== SUCCESS [ignore previous error]: no sourcemaps were generated for zip web-worker, deflate, inflate (no uglification).\" )",
    "deploy:cloudReaderLite:copy:sourcemap": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp dist/cloud-reader-lite_sourcemap/ dist/cloud-reader-lite/scripts/ && ( node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp dist/zip_sourcemap/ dist/cloud-reader-lite/scripts/zip/ || echo \"=== SUCCESS [ignore previous error]: no sourcemaps were generated for zip web-worker, deflate, inflate (no uglification).\" )",
    "deploy:chromeApp:copy:sourcemap": "node ./readium-js/readium-shared-js/readium-cfi-js/node_modules/ncp/bin/ncp dist/chrome-app_sourcemap/ dist/chrome-app/scripts/",
    "start": "npm run http:app_ebooks"
  }
}
